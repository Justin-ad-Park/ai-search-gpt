# Properties SRP 위배 리팩토링 정리

## 배경
`AiSearchProperties`는 원래 검색 설정과 무관한 **서버 접속/포트포워딩 정보**까지 함께 갖고 있었습니다.
이는 하나의 클래스가 여러 책임을 가지는 형태로 **SRP(단일 책임 원칙) 위배**에 해당합니다.

## SRP 위배 포인트
`AiSearchProperties` 안에 아래 필드들이 포함되어 있었습니다.

- `autoPortForward`
- `k8sNamespace`
- `k8sServiceName`
- `k8sSecretName`
- `k8sLocalPort`
- `k8sRemotePort`

이 값들은 **검색 로직과 직접 관련이 없고**, 인프라/환경(쿠버네티스 접속 설정) 책임에 가깝습니다.

## 리팩토링 목표
- 검색 관련 설정과 인프라 설정을 분리
- 각 클래스가 하나의 책임만 가지도록 구조화
- 유지보수 시 변경 영향 범위를 줄이기

## 리팩토링 내용
### 1) 검색 설정과 k8s 설정 분리
- 검색 설정: `AiSearchProperties`
- k8s 접속 설정: `AiSearchK8sProperties`

### 2) 설정 경로 분리
기존:
- `ai-search.*` 아래에 검색/포트포워딩 설정 혼재

변경 후:
- 검색 설정: `ai-search.*`
- k8s 설정: `ai-search.k8s.*`

### 3) 자동 포트포워딩 로직 변경
`ElasticsearchAutoConnector`가 이제
- `AiSearchProperties` (검색/ES 기본 접속 정보)
- `AiSearchK8sProperties` (k8s/port-forward 정보)
를 분리해서 받도록 수정됨

## 결과
- 검색 설정과 인프라 설정이 **명확히 분리**됨
- `AiSearchProperties`는 **검색 도메인 설정만** 담당
- `AiSearchK8sProperties`는 **환경/인프라 설정만** 담당
- SRP 위반 요소 제거

## 관련 파일
- `src/main/java/com/example/aisearch/config/AiSearchProperties.java`
- `src/main/java/com/example/aisearch/config/AiSearchK8sProperties.java`
- `src/main/java/com/example/aisearch/support/ElasticsearchAutoConnector.java`
- `src/main/resources/application.yml`
- `src/test/resources/application.yml`

